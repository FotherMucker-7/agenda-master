<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Agenda Master</title>
    <meta name="theme-color" content="#121212">
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --text-sec: #a0a0a0;
            --red-sync: #ff5252;
            /* Clases Sincr√≥nicas */
            --blue-google: #448aff;
            /* Estudio Google */
            --green-bio: #69f0ae;
            /* Comidas/Bio */
            --white-free: #cfd8dc;
            /* Libre */
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            padding-bottom: 80px;
            /* Espacio para navegaci√≥n */
        }

        /* Header & Dashboard */
        .dashboard {
            padding: 20px;
            background: linear-gradient(180deg, #1f1f1f 0%, #121212 100%);
            border-bottom: 1px solid #333;
        }

        .status-card {
            background-color: #2c2c2c;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            border-left: 5px solid var(--blue-google);
        }

        h1 {
            font-size: 1.2rem;
            margin: 0 0 5px 0;
        }

        h2 {
            font-size: 1rem;
            margin: 0;
            color: var(--text-sec);
            font-weight: normal;
        }

        .highlight {
            font-weight: bold;
            color: #fff;
        }

        /* Deadline Ticker */
        .deadline-ticker {
            font-size: 0.85rem;
            color: #ff9800;
            background: rgba(255, 152, 0, 0.1);
            padding: 8px 12px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Schedule List */
        .schedule-container {
            padding: 20px;
        }

        .day-title {
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
            color: var(--text-sec);
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
        }

        .time-block {
            display: flex;
            margin-bottom: 15px;
            background-color: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.2s;
        }

        .time-block:active {
            transform: scale(0.98);
        }

        .time-indicator {
            padding: 15px 10px;
            background-color: #252525;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-width: 60px;
            font-size: 0.8rem;
            font-weight: bold;
            color: var(--text-sec);
        }

        .activity-details {
            padding: 12px 15px;
            flex-grow: 1;
            border-left: 4px solid transparent;
        }

        .activity-title {
            font-weight: bold;
            display: block;
            margin-bottom: 4px;
        }

        .activity-desc {
            font-size: 0.85rem;
            color: var(--text-sec);
        }

        /* Color Coding Classes */
        .type-sync {
            border-left-color: var(--red-sync);
        }

        .type-sync .activity-title {
            color: var(--red-sync);
        }

        .type-google {
            border-left-color: var(--blue-google);
        }

        .type-google .activity-title {
            color: var(--blue-google);
        }

        .type-bio {
            border-left-color: var(--green-bio);
        }

        .type-bio .activity-title {
            color: var(--green-bio);
        }

        .type-free {
            border-left-color: var(--white-free);
        }

        .type-free .activity-title {
            color: var(--white-free);
        }

        /* Navigation Bottom Bar */
        .nav-bar {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #1e1e1e;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            border-top: 1px solid #333;
            z-index: 100;
        }

        .nav-btn {
            background: none;
            border: none;
            color: var(--text-sec);
            font-size: 0.9rem;
            cursor: pointer;
        }

        .nav-btn.active {
            color: var(--blue-google);
            font-weight: bold;
        }
    </style>
</head>

<body>

    <!-- Panel Superior -->
    <div class="dashboard">
        <div class="status-card" id="statusCard">
            <h2>Ahora mismo:</h2>
            <div id="currentActivity" class="highlight" style="font-size: 1.3rem; margin: 5px 0;">Cargando...</div>
            <div id="nextActivity" style="font-size: 0.8rem; color: #a0a0a0;">Siguiente: ...</div>
        </div>

        <!-- Alerta de Entregas (L√≥gica JS abajo) -->
        <div class="deadline-ticker" id="deadlineTicker">
            <span>üî• Desaf√≠o Google (M√≥d 4)</span>
            <span id="countdown" style="font-weight:bold;">Calc...</span>
        </div>
    </div>

    <!-- Lista de Horarios -->
    <div class="schedule-container">
        <h3 class="day-title" id="dayDisplay">Hoy</h3>
        <div id="scheduleList">
            <!-- Se llena con JS -->
        </div>
    </div>

    <!-- Navegaci√≥n -->
    <nav class="nav-bar">
        <button class="nav-btn" onclick="renderDay(1)">Lun</button>
        <button class="nav-btn" onclick="renderDay(2)">Mar</button>
        <button class="nav-btn" onclick="renderDay(3)">Mi√©</button>
        <button class="nav-btn" onclick="renderDay(4)">Jue</button>
        <button class="nav-btn" onclick="renderDay(5)">Vie</button>
        <button class="nav-btn" onclick="renderDay(6)">Finde</button>
    </nav>

    <script>
        // --- 1. DATOS DEL HORARIO ---
        // Tipos: 'sync' (Rojo), 'google' (Azul), 'bio' (Verde), 'free' (Blanco)

        const scheduleData = {
            1: [ // Lunes
                { start: "08:30", end: "09:00", title: "Rutina Ma√±ana", desc: "Desayuno + Energ√≠a", type: "bio" },
                { start: "09:00", end: "12:00", title: "Product Owner", desc: "Clase Sincr√≥nica (Vivo)", type: "sync" },
                { start: "12:00", end: "14:00", title: "Descompresi√≥n", desc: "Descanso mental", type: "free" },
                { start: "14:00", end: "15:00", title: "Almuerzo", desc: "Comida", type: "bio" },
                { start: "15:00", end: "19:00", title: "Tiempo Flexible", desc: "Deporte / Tr√°mites", type: "free" },
                { start: "19:00", end: "21:00", title: "Emprendimiento Digital", desc: "Clase Online", type: "sync" },
                { start: "21:00", end: "22:00", title: "Cena", desc: "Comida + Relax", type: "bio" },
                { start: "22:00", end: "00:00", title: "Foco Google", desc: "Gesti√≥n + Marketing (Teor√≠a)", type: "google" },
                { start: "00:00", end: "02:00", title: "Ocio / Dormir", desc: "Pantallas off", type: "bio" }
            ],
            2: [ // Martes (D√≠a B)
                { start: "10:00", end: "11:00", title: "Rutina Ma√±ana", desc: "Desayuno (Dormir m√°s)", type: "bio" },
                { start: "11:00", end: "13:00", title: "Google Ma√±ana", desc: "Avance Te√≥rico / Videos", type: "google" },
                { start: "13:00", end: "14:00", title: "Libre", desc: "Descanso", type: "free" },
                { start: "14:00", end: "15:00", title: "Almuerzo", desc: "Comida", type: "bio" },
                { start: "15:00", end: "19:00", title: "Vida Social / Novia", desc: "Bloque Flexible", type: "free" },
                { start: "19:00", end: "20:00", title: "Admin", desc: "Revisar pendientes", type: "free" },
                { start: "20:00", end: "21:00", title: "Cena", desc: "Comida", type: "bio" },
                { start: "21:00", end: "00:00", title: "DEEP WORK Google", desc: "Desaf√≠os Pr√°cticos (Marketing)", type: "google" },
                { start: "00:00", end: "02:00", title: "Ocio / Dormir", desc: "Rutina sue√±o", type: "bio" }
            ],
            // ... (La estructura se repite, Lunes=Mi√©rcoles=Viernes, Martes=Jueves)
        };

        // Copiamos estructura para Mi√©rcoles (3) y Viernes (5) igual al Lunes
        scheduleData[3] = scheduleData[1];
        scheduleData[5] = scheduleData[1]; // Ojo: Viernes noche es libre en tu plan, ajustar si deseas.

        // Copiamos Jueves (4) igual al Martes
        scheduleData[4] = JSON.parse(JSON.stringify(scheduleData[2]));
        // Ajuste espec√≠fico Jueves Noche -> Gesti√≥n Proyectos
        scheduleData[4][7].desc = "Desaf√≠os Pr√°cticos (Gesti√≥n Proyectos)";

        // S√°bado (6) - Simplificado
        scheduleData[6] = [
            { start: "10:00", end: "13:00", title: "Repaso Semanal", desc: "Si hay atrasos / Estudio suave", type: "google" },
            { start: "13:00", end: "23:59", title: "Fin de Semana", desc: "Novia / Descanso Total", type: "free" }
        ];
        scheduleData[0] = scheduleData[6]; // Domingo igual

        // --- 2. L√ìGICA DE INTERFAZ ---

        function renderDay(dayIndex) {
            const list = document.getElementById('scheduleList');
            const dayDisplay = document.getElementById('dayDisplay');
            list.innerHTML = "";

            // Actualizar T√≠tulo
            const days = ["Domingo", "Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes", "S√°bado"];
            dayDisplay.innerText = days[dayIndex];

            // Renderizar Bloques
            const activities = scheduleData[dayIndex] || [];

            activities.forEach(act => {
                const div = document.createElement('div');
                div.className = `time-block type-${act.type}`;
                div.innerHTML = `
                    <div class="time-indicator">
                        <span>${act.start}</span>
                        <span style="font-size:0.7em; opacity:0.7;">${act.end}</span>
                    </div>
                    <div class="activity-details">
                        <span class="activity-title">${act.title}</span>
                        <span class="activity-desc">${act.desc}</span>
                    </div>
                `;
                list.appendChild(div);
            });

            // Actualizar botones activos
            document.querySelectorAll('.nav-btn').forEach((btn, idx) => {
                // Ajuste simple: los botones van 1-6 (L-S). Domingo no tiene bot√≥n directo en este dise√±o simple.
                btn.classList.remove('active');
            });
        }

        // --- 3. L√ìGICA DE ESTADO ACTUAL ---

        function updateStatus() {
            const now = new Date();
            const day = now.getDay();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const currentTimeVal = hours * 60 + minutes;

            let currentAct = null;
            let nextAct = null;

            const activities = scheduleData[day] || [];

            for (let i = 0; i < activities.length; i++) {
                const act = activities[i];
                const [startH, startM] = act.start.split(':').map(Number);
                const [endH, endM] = act.end.split(':').map(Number);

                const startVal = startH * 60 + startM;
                let endVal = endH * 60 + endM;
                if (endVal < startVal) endVal += 24 * 60; // Caso medianoche

                if (currentTimeVal >= startVal && currentTimeVal < endVal) {
                    currentAct = act;
                    nextAct = activities[i + 1] || { title: "Fin del d√≠a", start: "" };
                    break;
                }
            }

            const statusEl = document.getElementById('currentActivity');
            const nextEl = document.getElementById('nextActivity');
            const card = document.getElementById('statusCard');

            if (currentAct) {
                statusEl.innerText = currentAct.title;
                nextEl.innerText = `Hasta las ${currentAct.end} ‚Ä¢ Luego: ${nextAct.title}`;

                // Cambiar color borde seg√∫n actividad
                const colorMap = { 'sync': 'var(--red-sync)', 'google': 'var(--blue-google)', 'bio': 'var(--green-bio)', 'free': 'var(--white-free)' };
                card.style.borderLeftColor = colorMap[currentAct.type];
            } else {
                statusEl.innerText = "Tiempo Libre / Dormir";
                nextEl.innerText = "Revisa el horario de ma√±ana";
            }
        }

        // --- 4. CUENTA REGRESIVA ---
        // Configura aqu√≠ tu pr√≥xima fecha l√≠mite real
        const deadlineDate = new Date("2026-01-06T23:59:00").getTime(); // Ejemplo: 15 d√≠as desde hoy aprox

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = deadlineDate - now;

            if (distance < 0) {
                document.getElementById("countdown").innerText = "¬°VENCIDO!";
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));

            document.getElementById("countdown").innerText = `${days}d ${hours}h`;
        }

        // Inicializar
        const todayIndex = new Date().getDay();
        renderDay(todayIndex === 0 ? 6 : todayIndex); // Si es domingo (0), mostrar S√°bado o Finde
        updateStatus();
        updateCountdown();

        // Actualizar cada minuto
        setInterval(updateStatus, 60000);

    </script>
</body>

</html>